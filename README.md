# MEAN Stack Course Project - Posts

Built with angular 14 for the frontend and NodeJS, Express, and MongoDB for the backend.

Recipe Book
----

* [Introduction](#introduction)
* [Requirements](#requirements)
* [Key Features](#key-features)
* [Used Technologies](#used-technologies)
* [Configuration and Setup](#configuration-and-setup)
* [Note Before Proceeding](#note-before-proceeding)
* [License](#license)

## Introduction
This project was done by following the [mean course](https://www.udemy.com/course/angular-2-and-nodejs-the-practical-guide/) on [udemy](https://www.udemy.com/). This project covers the necessary and needed skills in order to implement a full stack project using the MEAN stack.

## Requirements
The user must have on his machine:
- Angular 14+
- NodeJS

## Key Features
- Image upload
- Authorization
- Authentication
- Form Validation
- Route Protection
- Adding, editing, and deleting your own posts.

## Used Technologies
This project was created using the following:

- Angular 14
- RXJS
- HTTP Client 
- Reactive Forms
- Angular Router
- Angular Material
- NodeJS
- Express
- MongoDB

## Configuration and Setup
In order to run this project locally, simply fork and clone the repository or download as zip and unzip on your machine.
- Open the project in your preffered code editor.
- Go to terminal -> New terminal (If you are using VS code)
- Type "npm install" in the terminal without the double quotations and press enter then wait for the packages installation. (Assuming you already have nodejs)
- Now open your preferred browser and sign-in into your mongodb account. (create an account if you do not have one)
- Create a new mongodb project and set it up.
- Press on the button that says ``Build a Database`` then choose the free one.
- Follow the steps to set up a new cluster with the provided options of the free tier then press ``Create Database``.
- Choose an username of your choice then press ``Autogenerate Secure Password`` and note it down (or copy it) since we will use it later. Now Press ``Create User``.
- Scroll down a little bit and set up the IP Access List. (Press ``Add My Current IP Address`` to allow your local machine to access it) then press ``Finish and Close`` then follow the prompt.
- Now press on ``Connect`` button then choose ``Connect your application`` option. Now copy the provided connection string and close the dialog.
- Back to your editor/IDE, create a new file called ``nodemon.json`` in the root folder then copy the following but replace the values of the keys:
    ```
    {
        "env": {
            "MONGODB_ATLAS_PW": "PASTE_THE_AUTOGENERATED_PASSWORD_YOU_NOTED_EARILIER",
            "JWB_KEY": "CHANGE_THIS_AND_WRITE_HERE_YOUR_OWN_CUSTOM_JWB_KEY"
        }
    }
    ```
- In the backend folder, created a new file called ``app.js`` then paste the following:
    ```
    const path = require('path');
    const express = require('express');
    const mongoose = require('mongoose');
    const bodyParser = require('body-parser');

    const postsRoutes = require('./routes/posts');
    const userRoutes = require('./routes/user');

    const app = express();

    mongoose.connect("YOUR_CONNECTION_STRING_YOU_COPIED")
        .then(() => {
            console.log("Connected Successfully");
        })
        .catch(() => {
            console.log('Connection Failed');
        })

    app.use(bodyParser.json());
    app.use(bodyParser.urlencoded({ extended: false }));
    app.use('/images', express.static(path.join('backend/images')));

    app.use((req, res, next) => {
        res.setHeader('Access-Control-Allow-Origin', '*');
        res.setHeader(
            'Access-Control-Allow-Headers',
            'Origin, X-Requested-With, Content-Type, Accept, Authorization'
        );
        res.setHeader(
            'Access-Control-Allow-Methods',
            'GET, POST, PATCH, PUT, DELETE, OPTIONS'
        );
        next();
    });

    app.use('/api/posts', postsRoutes);
    app.use('/api/user', userRoutes);

    module.exports = app;
    ```
- Paste the connection string you copied in its place and replace ``<password>`` part (including the ``<>``) with the following (including double quotations):
    ```
    " + process.env.MONGODB_ATLAS_PW + "
    ```
- Open a terminal then write "ng serve" without the double quotations then press enter.
- Open a second terminal and write "npm run start:server" without the double quotations then press enter.
- In your browser, type the following then press enter:
    ```
    http://localhost:4200
    ```
- Enjoy

## Note Before Proceeding
This course project application may lack some features that can be added. Some optimizations already exist but the overall behavior can be improved.  
After creating a new account (signing up), the user must sign-in to able to post, edit, and delete his posts. (This can be improved later)  
Every new upload image stays in the backend even if the post is deleted. There is no need to directly delete the images since a functionality or a service that can be implenented on the server that run on a specific time the programmer determines in order to delete the unused images. This reduces the processing power and time on the server.

## License
- This project is [MIT](https://github.com/Hussein-AlSayyed/Posts/blob/main/LICENSE.md) licensed.